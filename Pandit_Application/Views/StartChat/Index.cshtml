
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/css/chatstyle.css" rel="stylesheet" />
<script>
    $(document).on('click', '#chatModalbtn', function () {
        $('#chatModal').modal('show');
    });
    const searchParams = new URLSearchParams(window.location.search);
    var CustId = searchParams.get("CustId");
    $(document).ready(function () {
        $("#clickId").click(function () {
            debugger
            var value = "/Home/Chat?CustId=" + CustId;
            i = $(this).data("value");
            $('#square').animate({ 'left': i * 360 });
        });

        //window.setTimeout(function () {
        //    window.location.reload();
        //}, 30000);
    });


</script>
<style>
    /*input[type="text"] {
            width: 4em;
            margin: .5em 0 0 0;
            padding: .5em;
        }

        label {
            display: block;
        }*/
    .modal-contents {
        border: 1px solid #ff7e00;
        padding: 6%;
        border-radius: 3px;
        z-index: 999999;
        opacity: 999999;
        box-shadow: 0 2px 16px 0 #ff7e00;
        border-radius: 6px;
        margin-bottom: 6%;
        min-height: 262px;
        margin: 3px;
    }

    label {
        font-weight: normal;
    }

    .button {
        background-color: #ff880e;
        border: 1px solid #ff880e;
        color: white;
        padding: 16px 32px;
        text-align: center;
        font-size: 16px;
        margin: 4px 2px;
        /*opacity: 0.6;*/
        transition: 0.3s;
        display: inline-block;
        text-decoration: none;
        cursor: pointer;
        line-height: 20px;
        text-transform: uppercase;
        border-radius: 50px;
        width: 235px;
        height: 50px;
    }

        .button:hover {
            opacity: 1;
            background-color: #fff;
            color: #ff7e00;
            border: 1px solid #ff880e;
        }
</style>

<div class="hs_indx_title_main_wrapper">
    <div class="hs_title_img_overlay"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 full_width">
                <div class="hs_indx_title_left_wrapper">
                    <h2>Confirmation</h2>
                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 full_width">
                <div class="hs_indx_title_right_wrapper">
                    <!--<ul>
                        <li><a href="#">Home</a> &nbsp;&nbsp;&nbsp;> </li>
                        <li>Forms</li>
                    </ul>-->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- hs About Title End -->
<input type="hidden" id="hdUserName" value="@ViewBag.Name" />
<input type="hidden" id="CustID" value="@ViewBag.UserId" />
<input type="hidden" id="hdId"  />
<div class="hs_contact_indx_form_main_wrapper" style="padding-top: 50px;">
    <div class="container">
        <div class="modal-contents">
            <div class="row">

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    All the information, puja, services, or any forecast made on the Astrohouz.com website is for entertainment purposes only whether paid or free. It cannot be considered an alternative for consultation or treatment from any Therapist, Finance, Medicine, Doctor, Real Estate, Lawyer, Psychiatrist, and any legal or professional matter for which licensed professionals are required. The forecast is only made to indicate a possibility of occurrence and does not give a guarantee or warranty of any kind and will not be responsible for any interpretation made or usage of the information mentioned above by the recipient.
                    All paid services, pujas, talk, or chat are non-refundable.
                    You must be 18 years or older.

                </div>


                <ul style="padding-top:20px">


                    <li>
                        <div class="hs_pr_icon_wrapper">
                            <i class="fa fa-circle"></i>
                        </div>
                        <div class="hs_pr_icon_cont_wrapper hs_ar_icon_cont_wrapper">
                            <p>
                                To talk or chat with a specialist recharge your wallet with your desired amount and accordingly you can see the list of specialists within that price range. A minimum of 15 minutes is advisable to talk to any specialist.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="hs_pr_icon_wrapper">
                            <i class="fa fa-circle"></i>
                        </div>
                        <div class="hs_pr_icon_cont_wrapper hs_ar_icon_cont_wrapper">
                            <p>
                                Continue with your desired Specialist or service and fill in the booking form to book and make the payment.
                            </p>
                        </div>
                    </li>


                    @*<li>
                            <div class="hs_pr_icon_wrapper">
                                <i class="fa fa-circle"></i>
                            </div>
                            <div class="hs_pr_icon_cont_wrapper hs_ar_icon_cont_wrapper">
                                <p>
                                    If you do not see any result for the puja within 30 days, 50% of the cost paid is refunded only in the Astro Wallet for future use.
                                </p>
                            </div>
                        </li>*@

                </ul>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="hs_contact_indx_form_btn">
                        <ul>
                            @*<li><a href="/Home/Chat?CustId=">Start Chat</a></li>*@
                            @*<li><a href="#" id="clickId" data-value="1">Start Chat</a></li>*@
                            <li><button type='button' id='chatModalbtn' class='btn btn-success' data-toggle='modal' data-target='chatModal'> <span>Start Chat</span></button> </li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<!-- hs contact form End -->
<script>
    //var timerVar;
    //var pId;
    //$(document).on('click', '#chatModalbtn', function () {
    //    $('#chatModal').modal('show');
    //    timerVar;
    //    clearInterval(timerVar);
    //    timerVar = setInterval(countTimer, 1000);
    //    var totalSeconds = 0;
    //    function countTimer() {
    //        ++totalSeconds;
    //        var hour = Math.floor(totalSeconds / 3600);
    //        var minute = Math.floor((totalSeconds - hour * 3600) / 60);
    //        var seconds = totalSeconds - (hour * 3600 + minute * 60);
    //        if (hour < 10)
    //            hour = "0" + hour;
    //        if (minute < 10)
    //            minute = "0" + minute;
    //        if (seconds < 10)
    //            seconds = "0" + seconds;
    //        document.getElementById("timer").innerHTML = hour + ":" + minute + ":" + seconds;
    //    }
    //});
    /*var timerVar = setInterval(countTimer, 1000);*/

    // 24 hour clock
    //setInterval(function () {

    //    var currentTime = new Date();
    //    var hours = currentTime.getHours();
    //    var minutes = currentTime.getMinutes();
    //    var seconds = currentTime.getSeconds();

    //    // Add leading zeros
    //    hours = (hours < 10 ? "0" : "") + hours;
    //    minutes = (minutes < 10 ? "0" : "") + minutes;
    //    seconds = (seconds < 10 ? "0" : "") + seconds;

    //    // Compose the string for display
    //    var currentTimeString = hours + ":" + minutes + ":" + seconds;
    //    $("#clock").html(currentTimeString);

    //}, 1000);
    var IntervalVal;
    //$(function () {

    //    // Declare a proxy to reference the hub.

    //    var chatHub = $.connection.chatHub;
    //    registerClientMethods(chatHub);
    //    // Start Hub
    //    $.connection.hub.start().done(function () {

    //        registerEvents(chatHub)

    //    });

    //    // Reset Message Counter on Hover
    //    $("#divChatWindow").mouseover(function () {

    //        $("#MsgCountMain").html('0');
    //        $("#MsgCountMain").attr("title", '0 New Messages');
    //    });



    //    // Stop Title Alert
    //    window.onfocus = function (event) {
    //        if (event.explicitOriginalTarget === window) {

    //            clearInterval(IntervalVal);
    //            //document.title = 'SignalR Chat App';
    //        }
    //    }


    //});

    //// Show Title Alert
    //function ShowTitleAlert(newMessageTitle, pageTitle) {
    //    if (document.title == pageTitle) {
    //        document.title = newMessageTitle;
    //    }
    //    else {
    //        document.title = pageTitle;
    //    }
    //}

    //function registerEvents(chatHub) {

    //    var name = $("#hdUserName").val();
    //    var custid = $("#CustID").val();
    //    if (name.length > 0) {
    //        chatHub.server.connect(name, custid);

    //    }


    //    // Clear Chat
    //    $('#btnClearChat').click(function () {

    //        var msg = $("#divChatWindow").html();

    //        if (msg.length > 0) {
    //            chatHub.server.clearTimeout();
    //            $('#divChatWindow').html('');

    //        }
    //    });

    //    // Send Button Click Event

    //    $('#btnSendMsg').click(function () {
    //        var msg = $("#txtMessage").val();

    //        if (msg.length > 0) {

    //            var userName = $('#hdUserName').val();
    //            var userId = $('#hdId').val();
    //            //pId = $('#CustID').val();
    //            var date = GetCurrentDateTime(new Date());
    //            chatHub.server.sendPrivateMessage(userId, pId, msg);
    //            /*chatHub.server.sendMessageToAll(userName, msg, date);*/
    //            $("#txtMessage").val('');
    //        }
    //    });
    //    //$('#btnSendMsg').click(function () {
    //    //    var msg = $("#txtMessage").val();

    //    //    if (msg.length > 0) {

    //    //        var userName = $('#hdUserName').val();

    //    //        var date = GetCurrentDateTime(new Date());

    //    //        chatHub.server.sendMessageToAll(userName, msg, date);
    //    //        $("#txtMessage").val('');
    //    //    }
    //    //});

    //    // Send Message on Enter Button
    //    $("#txtMessage").keypress(function (e) {

    //        if (e.which == 13) {
    //            e.preventDefault();
    //            $('#btnSendMsg').click();
    //        }
    //    });

    //}

    //function registerClientMethods(chatHub) {


    //    // Calls when user successfully logged in
    //    chatHub.client.onConnected = function (id, userName, allUsers, messages, times) {

    //        $('#hdId').val(id);
    //        $('#hdUserName').val(userName);
    //        $('#spanUser').html(userName);

    //        // Add All Users
    //        for (i = 0; i < allUsers.length; i++) {

    //            AddUser(chatHub, allUsers[i].ConnectionId, allUsers[i].UserName, allUsers[i].UserImage, allUsers[i].LoginTime);
    //        }

    //        // Add Existing Messages
    //        for (i = 0; i < messages.length; i++) {
    //            AddMessage(messages[i].UserName, messages[i].Message, messages[i].Time, messages[i].UserImage);

    //        }
    //    }

    //    // On New User Connected
    //    chatHub.client.onNewUserConnected = function (id, name, UserImage, loginDate) {
    //        AddUser(chatHub, id, name, UserImage, loginDate);
    //    }

    //    // On User Disconnected
    //    chatHub.client.onUserDisconnected = function (id, userName) {

    //        $('#Div' + id).remove();

    //        var ctrId = 'private_' + id;
    //        $('#' + ctrId).remove();


    //        var disc = $('<div class="disconnect">"' + userName + '" logged off.</div>');

    //        $(disc).hide();
    //        $('#divusers').prepend(disc);
    //        $(disc).fadeIn(200).delay(2000).fadeOut(200);

    //    }

    //    chatHub.client.messageReceived = function (userName, message, time, userimg) {

    //        AddMessage(userName, message, time, userimg);

    //        // Display Message Count and Notification
    //        var CurrUser1 = $('#hdUserName').val();
    //        if (CurrUser1 != userName) {

    //            var msgcount = $('#MsgCountMain').html();
    //            msgcount++;
    //            $("#MsgCountMain").html(msgcount);
    //            $("#MsgCountMain").attr("title", msgcount + ' New Messages');
    //            var Notification = 'New Message From ' + userName;
    //            IntervalVal = setInterval("ShowTitleAlert('SignalR Chat App', '" + Notification + "')", 800);

    //        }
    //    }


    //    chatHub.client.sendPrivateMessage = function (windowId, pid, fromUserName, message, userimg, CurrentDateTime) {
    //        AddMessage(fromUserName, message, CurrentDateTime, userimg);
    //        pId = pid;
    //        $('#hdId').val(windowId);
    //        // Display Message Count and Notification
    //        var CurrUser1 = $('#hdUserName').val();
    //        if (CurrUser1 != fromUserName) {

    //            var msgcount = $('#MsgCountMain').html();
    //            msgcount++;
    //            $("#MsgCountMain").html(msgcount);
    //            $("#MsgCountMain").attr("title", msgcount + ' New Messages');
    //            var Notification = 'New Message From ' + fromUserName;
    //            IntervalVal = setInterval("ShowTitleAlert('SignalR Chat App', '" + Notification + "')", 800);

    //        }
    //        //var ctrId = 'private_' + windowId;
    //        //if ($('#' + ctrId).length == 0) {

    //        //    OpenPrivateChatBox(chatHub, windowId, ctrId, fromUserName, userimg);

    //        //}

    //        //var CurrUser = $('#hdUserName').val();
    //        //var Side = 'right';
    //        //var TimeSide = 'left';

    //        //if (CurrUser == fromUserName) {
    //        //    Side = 'left';
    //        //    TimeSide = 'right';

    //        //}
    //        //else {
    //        //    var Notification = 'New Message From ' + fromUserName;
    //        //    IntervalVal = setInterval("ShowTitleAlert('SignalR Chat App', '" + Notification + "')", 800);

    //        //    var msgcount = $('#' + ctrId).find('#MsgCountP').html();
    //        //    msgcount++;
    //        //    $('#' + ctrId).find('#MsgCountP').html(msgcount);
    //        //    $('#' + ctrId).find('#MsgCountP').attr("title", msgcount + ' New Messages');
    //        //}

    //        //var divChatP = '<div class="direct-chat-msg ' + Side + '">' +
    //        //    '<div class="direct-chat-info clearfix">' +
    //        //    '<span class="direct-chat-name pull-' + Side + '">' + fromUserName + '</span>' +
    //        //    '<span class="direct-chat-timestamp pull-' + TimeSide + '"">' + CurrentDateTime + '</span>' +
    //        //    '</div>' +

    //        //    ' <img class="direct-chat-img" src="' + userimg + '" alt="Message User Image">' +
    //        //    ' <div class="direct-chat-text" >' + message + '</div> </div>';

    //        //$('#' + ctrId).find('#divMessage').append(divChatP);

    //        //// Apply Slim Scroll Bar in Private Chat Box
    //        //var ScrollHeight = $('#' + ctrId).find('#divMessage')[0].scrollHeight;
    //        //$('#' + ctrId).find('#divMessage').slimScroll({
    //        //    height: ScrollHeight
    //        //});
    //    }

    //}

    //function GetCurrentDateTime(now) {

    //    var localdate = dateFormat(now, "dddd, mmmm dS, yyyy, h:MM:ss TT");

    //    return localdate;
    //}

    //function AddUser(chatHub, id, name, UserImage, date) {

    //    var userId = $('#hdId').val();

    //    var code, Clist;
    //    if (userId == id) {

    //        code = $('<div class="box-comment">' +
    //            '<img class="img-circle img-sm" src="' + UserImage + '" alt="User Image" />' +
    //            ' <div class="comment-text">' +
    //            '<span class="username">' + name + '<span class="text-muted pull-right">' + date + '</span>  </span></div></div>');


    //        Clist = $(
    //            '<li style="background:#494949;">' +
    //            '<a href="#">' +
    //            '<img class="contacts-list-img" src="' + UserImage + '" alt="User Image" />' +

    //            ' <div class="contacts-list-info">' +
    //            ' <span class="contacts-list-name" id="' + id + '">' + name + ' <small class="contacts-list-date pull-right">' + date + '</small> </span>' +
    //            ' <span class="contacts-list-msg">How have you been? I was...</span></div></a > </li >');

    //    }
    //    else {

    //        code = $('<div class="box-comment" id="Div' + id + '">' +
    //            '<img class="img-circle img-sm" src="' + UserImage + '" alt="User Image" />' +
    //            ' <div class="comment-text">' +
    //            '<span class="username">' + '<a id="' + id + '" class="user" >' + name + '<a>' + '<span class="text-muted pull-right">' + date + '</span>  </span></div></div>');


    //        Clist = $(
    //            '<li>' +
    //            '<a href="#">' +
    //            '<img class="contacts-list-img" src="' + UserImage + '" alt="User Image" />' +

    //            ' <div class="contacts-list-info">' +
    //            '<span class="contacts-list-name" id="' + id + '">' + name + ' <small class="contacts-list-date pull-right">' + date + '</small> </span>' +
    //            ' <span class="contacts-list-msg">How have you been? I was...</span></div></a > </li >');


    //        var UserLink = $('<a id="' + id + '" class="user" >' + name + '<a>');
    //        $(code).click(function () {

    //            var id = $(UserLink).attr('id');

    //            if (userId != id) {
    //                var ctrId = 'private_' + id;
    //                OpenPrivateChatBox(chatHub, id, ctrId, name);

    //            }

    //        });

    //        var link = $('<span class="contacts-list-name" id="' + id + '">');
    //        $(Clist).click(function () {

    //            var id = $(link).attr('id');

    //            if (userId != id) {
    //                var ctrId = 'private_' + id;
    //                OpenPrivateChatBox(chatHub, id, ctrId, name);

    //            }

    //        });

    //    }

    //    $("#divusers").append(code);

    //    $("#ContactList").append(Clist);

    //}

    //function AddMessage(userName, message, time, userimg) {
    //    debugger;
    //    var CurrUser = $('#hdUserName').val();
    //    var Side = 'right';
    //    var TimeSide = 'left';

    //    if (CurrUser == userName) {
    //        Side = 'left';
    //        TimeSide = 'right';

    //    }
    //    var divChat = '<div class="direct-chat-msg ' + Side + '">' +
    //        '<div class="direct-chat-info clearfix">' +
    //        '<span class="direct-chat-name pull-' + Side + '">' + userName + '</span>' +
    //        '<span class="direct-chat-timestamp pull-' + TimeSide + '"">' + time + '</span>' +
    //        '</div>' +

    //        ' <img class="direct-chat-img" src="https://bootdey.com/img/Content/user_1.jpg" alt="Message User Image">' +
    //        ' <div class="direct-chat-text" >' + message + '</div> </div>';

    //    //<div class="direct-chat-msg">
    //    //    <div class="direct-chat-info clearfix">
    //    //        <span class="direct-chat-name pull-left">Alexander Pierce</span>
    //    //        <span class="direct-chat-timestamp pull-right">23 Jan 2:00 pm</span>
    //    //    </div>-->
    //    //                <!-- /.direct-chat-info -->
    //    //                <!--<img class="direct-chat-img" src="https://bootdey.com/img/Content/user_1.jpg" alt="Message User Image">--><!-- /.direct-chat-img -->
    //    //                <!--<div class="direct-chat-text">
    //    //            Is this template really for free? That's unbelievable!
    //    //                </div>
    //    $('.direct-chat-messages').append(divChat);
    //    //var CurrUser = $('#hdUserName').val();
    //    //var Side = 'right';
    //    //var TimeSide = 'left';

    //    //if (CurrUser == userName) {
    //    //    Side = 'left';
    //    //    TimeSide = 'right';

    //    //}

    //    //var divChat = '<div class="direct-chat-msg ' + Side + '">' +
    //    //    '<div class="direct-chat-info clearfix">' +
    //    //    '<span class="direct-chat-name pull-' + Side + '">' + userName + '</span>' +
    //    //    '<span class="direct-chat-timestamp pull-' + TimeSide + '"">' + time + '</span>' +
    //    //    '</div>' +

    //    //    ' <img class="direct-chat-img" src="' + userimg + '" alt="Message User Image">' +
    //    //    ' <div class="direct-chat-text" >' + message + '</div> </div>';

    //    //$('#divChatWindow').append(divChat);

    //    //var height = $('#divChatWindow')[0].scrollHeight;

    //    ////// Apply Slim Scroll Bar in Group Chat Box
    //    //$('#divChatWindow').slimScroll({
    //    //    height: height
    //    //});
    //    $('#divChatWindow')[0].scrollTop = $('#divChatWindow')[0].scrollHeight
    //    //ParseEmoji('#divChatWindow');

    //}
    $(document).ready(function () {
        // Declare a proxy to reference the hub.
        //var chatHub = $.connection.chatHub;
        ////registerClientMethods(chatHub);
        //// Start Hub
        //$.connection.hub.start().done(function () {

        //    registerEvents(chatHub)

        //});
    });
</script>